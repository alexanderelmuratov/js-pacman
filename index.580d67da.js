!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=r.parcelRequiref884;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},r.parcelRequiref884=i),i.register("iE7OH",(function(t,r){var n,o;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)i[t[r]]=e[t[r]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("kMC0W",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return n.default(e)};var r,n=(r=i("8NIkP"))&&r.__esModule?r:{default:r}})),i.register("8NIkP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}})),i.register("7AJDX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),i.register("8CtQK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),i.register("auk6i",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return n.default(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n.default(e,t)};var r,n=(r=i("8NIkP"))&&r.__esModule?r:{default:r}})),i.register("aNJCr",(function(t,r){var n;e(t.exports,"getBundleURL",(function(){return n}),(function(e){return n=e}));var o={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),o[e]=t),t}})),i("iE7OH").register(JSON.parse('{"EVgbq":"index.580d67da.js","hxM71":"munch.9f780f66.mp3","9Gw2y":"pill.c07d011f.mp3","9NFAl":"game_start.0165b747.mp3","im80T":"death.57cc7a29.mp3","ab94i":"eat_ghost.a39c3f91.mp3"}'));var s={ArrowLeft:{code:37,movement:-1,rotation:180},ArrowUp:{code:38,movement:-20,rotation:270},ArrowRight:{code:39,movement:1,rotation:0},ArrowDown:{code:40,movement:20,rotation:90}},a={BLANK:"blank",WALL:"wall",DOT:"dot",BLINKY:"blinky",PINKY:"pinky",INKY:"inky",CLYDE:"clyde",PILL:"pill",PACMAN:"pacman",GHOST:"ghost",SCARED:"scared",GHOSTLAIR:"lair"},u=[a.BLANK,a.WALL,a.DOT,a.BLINKY,a.PINKY,a.INKY,a.CLYDE,a.PILL,a.PACMAN,a.GHOSTLAIR],c=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,1,1,2,1,1,2,1,1,1,2,1,1,2,1,1,1,2,1,1,2,1,1,7,1,1,2,1,1,1,2,1,1,2,1,1,1,2,1,1,7,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,1,1,2,1,2,1,1,1,1,1,1,2,1,2,1,1,2,1,1,2,2,2,2,1,2,2,2,1,1,2,2,2,1,2,2,2,2,1,1,1,1,1,2,1,1,1,2,1,1,2,1,1,1,2,1,1,1,1,0,0,0,1,2,1,2,2,2,2,2,2,2,2,1,2,1,0,0,0,0,0,0,1,2,1,2,1,9,9,9,9,1,2,1,2,1,0,0,0,1,1,1,1,2,1,2,1,9,9,9,9,1,2,1,2,1,1,1,1,1,0,0,0,2,2,2,1,9,9,9,9,1,2,2,2,0,0,0,1,1,1,1,1,2,1,2,1,9,9,9,9,1,2,1,2,1,1,1,1,0,0,0,1,2,1,2,1,1,1,1,1,1,2,1,2,1,0,0,0,0,0,0,1,2,1,2,0,0,0,0,0,0,2,1,2,1,0,0,0,1,1,1,1,2,1,1,1,2,1,1,2,1,1,1,2,1,1,1,1,1,2,2,2,2,1,2,2,2,1,1,2,2,2,1,2,2,2,2,1,1,2,1,1,2,1,2,1,1,1,1,1,1,2,1,2,1,1,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,7,1,1,2,1,1,1,2,1,1,2,1,1,1,2,1,1,7,1,1,2,1,1,2,1,1,1,2,1,1,2,1,1,1,2,1,1,2,1,1,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],l=function(e,t,r){for(var n=t,o=e+n.movement,i=Object.keys(s);r(o,a.WALL)||r(o,a.GHOST);){var u=i[Math.floor(Math.random()*i.length)];o=e+(n=s[u]).movement}return{nextMovePos:o,direction:n}},d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var f={};function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(f,"__esModule",{value:!0}),f.default=function(e,t,r){t&&v(e.prototype,t);r&&v(e,r);return e};var h={};Object.defineProperty(h,"__esModule",{value:!0}),h.default=function(e){return p.default(e)||m.default(e)||b.default(e)||y.default()};var p=g(i("kMC0W")),m=g(i("7AJDX")),y=g(i("8CtQK")),b=g(i("auk6i"));function g(e){return e&&e.__esModule?e:{default:e}}var A,O=function(){"use strict";function e(r){t(d)(this,e),this.dotCount=0,this.grid=[],this.DOMGrid=r}return t(f)(e,[{key:"showGameStatus",value:function(e){var t=document.createElement("div");t.classList.add("game-status"),t.innerHTML="".concat(e?"WIN!":"GAME OVER!"),this.DOMGrid.appendChild(t)}},{key:"createGrid",value:function(e){var t=this;this.dotCount=0,this.grid=[],this.DOMGrid.innerHTML="",this.DOMGrid.style.cssText="grid-template-columns: repeat(".concat(20,", ").concat(20,"px)"),e.forEach((function(e){var r=document.createElement("div");r.classList.add("square",u[e]),r.style.cssText="width: ".concat(20,"px; height: ").concat(20,"px"),t.DOMGrid.appendChild(r),t.grid.push(r),u[e]===a.DOT&&t.dotCount++}))}},{key:"addObject",value:function(e,r){var n;(n=this.grid[e].classList).add.apply(n,t(h)(r))}},{key:"removeObject",value:function(e,r){var n;(n=this.grid[e].classList).remove.apply(n,t(h)(r))}},{key:"objectExist",value:function(e,t){return this.grid[e].classList.contains(t)}},{key:"rotateDiv",value:function(e,t){this.grid[e].style.transform="rotate(".concat(t,"deg)")}},{key:"moveCharacter",value:function(e){if(e.shouldMove()){var t=e.getNextMove(this.objectExist.bind(this)),r=t.nextMovePos,n=t.direction,o=e.makeMove(),i=o.classesToRemove,s=o.classesToAdd;e.rotation&&r!==e.pos&&(this.rotateDiv(r,e.dir.rotation),this.rotateDiv(e.pos,0)),this.removeObject(e.pos,i),this.addObject(r,s),e.setNewPos(r,n)}}}],[{key:"createGameBoard",value:function(e,t){var r=new this(e);return r.createGrid(t),r}}]),e}(),L=function(){"use strict";function e(r,n){t(d)(this,e),this.pos=n,this.speed=r,this.dir=null,this.timer=0,this.powerPill=!1,this.rotation=!0}return t(f)(e,[{key:"shouldMove",value:function(){return!!this.dir&&(this.timer===this.speed?(this.timer=0,!0):void this.timer++)}},{key:"getNextMove",value:function(e){var t=this.pos+this.dir.movement;return(e(t,a.WALL)||e(t,a.GHOSTLAIR))&&(t=this.pos),{nextMovePos:t,direction:this.dir}}},{key:"makeMove",value:function(){return{classesToRemove:[a.PACMAN],classesToAdd:[a.PACMAN]}}},{key:"setNewPos",value:function(e,t){this.pos=e,this.dir=t}},{key:"handleKeyInput",value:function(e,t){var r;if(e.keyCode>=37&&e.keyCode<=40){r=s[e.key];var n=this.pos+r.movement;t(n,a.WALL)||t(n,a.GHOSTLAIR)||(this.dir=r)}}}]),e}(),M=function(){"use strict";function e(r,n,o,i){t(d)(this,e),this.name=i,this.movement=o,this.startPos=n,this.pos=n,this.dir=s.ArrowRight,this.speed=r,this.timer=0,this.isScared=!1,this.rotation=!1}return t(f)(e,[{key:"shouldMove",value:function(){return this.timer===this.speed?(this.timer=0,!0):(this.timer++,!1)}},{key:"getNextMove",value:function(e){var t=this.movement(this.pos,this.dir,e);return{nextMovePos:t.nextMovePos,direction:t.direction}}},{key:"makeMove",value:function(){var e=[a.GHOST,a.SCARED,this.name],r=[a.GHOST,this.name];return this.isScared&&(r=t(h)(r).concat([a.SCARED])),{classesToRemove:e,classesToAdd:r}}},{key:"setNewPos",value:function(e,t){this.pos=e,this.dir=t}}]),e}();A=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("hxM71");var w;w=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("9Gw2y");var E;E=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("9NFAl");var P;P=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("im80T");var x;x=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("ab94i");var k=document.querySelector("#game"),_=document.querySelector("#score"),C=document.querySelector("#start-button"),N=O.createGameBoard(k,c),T=0,S=0,j=!1,H=!1,I=null,R=function(e){new Audio(e).play()},D=function(e){R(P),document.removeEventListener("keydown",(function(t){return e.handleKeyInput(t,N.objectExist.bind(N))})),N.showGameStatus(j),clearInterval(S),C.classList.remove("hide")},G=function(e,t){var r=t.find((function(t){return e.pos===t.pos}));r&&(e.powerPill?(R(x),N.removeObject(r.pos,[a.GHOST,a.SCARED,r.name]),r.pos=r.startPos,T+=100):(N.removeObject(e.pos,[a.PACMAN]),N.rotateDiv(e.pos,0),D(e)))};C.addEventListener("click",(function(){R(E),j=!1,H=!1,T=0,C.classList.add("hide"),N.createGrid(c);var e=new L(2,289);N.addObject(289,[a.PACMAN]),document.addEventListener("keydown",(function(t){return e.handleKeyInput(t,N.objectExist.bind(N))}));var t=[new M(5,188,l,a.BLINKY),new M(4,209,l,a.PINKY),new M(3,230,l,a.INKY),new M(2,251,l,a.CLYDE)];S=setInterval((function(){return function(e,t){N.moveCharacter(e),G(e,t),t.forEach((function(e){return N.moveCharacter(e)})),G(e,t),N.objectExist(e.pos,a.DOT)&&(R(A),N.removeObject(e.pos,[a.DOT]),N.dotCount--,T+=10),N.objectExist(e.pos,a.PILL)&&(R(w),N.removeObject(e.pos,[a.PILL]),e.powerPill=!0,T+=50,clearTimeout(I),I=setTimeout((function(){return e.powerPill=!1}),1e4)),e.powerPill!==H&&(H=e.powerPill,t.forEach((function(t){return t.isScared=e.powerPill}))),0===N.dotCount&&(j=!0,D(e)),_.innerHTML=T}(e,t)}),80)}))}();
//# sourceMappingURL=index.580d67da.js.map
